<div id="header-container">
  <app-header></app-header>
</div>
<div id="section-report" class="container">
  <div class="heading-container">
    <div class="heading">
      <h1>Report</h1>
    </div>
  </div>
  <div class="row">
    <div class="report-copy col-md-12 col-lg-6">
      <h3>The 2018 Global Business &amp; Spending Outlook</h3>
      <br>
      <p>An annual report that reflects on the perspectives of senior finance executives at large companies worldwide. For more than a decade, this annual study has examined how executives around the world assess their country's prospects for economic growth and their companiesâ€™ plans for spending and investment in the year to come. Executives in the Middle East are included in the survey for the first time in its 11-year history, adding to its holistic view of a dynamic global economy.</p>
    </div>
    <div class="report-form col-md-12 col-lg-6" [class.invisible]="downloadable">
      <p>Please complete the form to access the report.</p>
      <form id="ApplicationFormPROther" novalidate *ngIf="formActive" [formGroup]="reportForm" (ngSubmit)="onSubmitForm()">
        <input type="hidden" name="oid" formControlName="oid"  value="00D200000006Adm">
      <!--<form id="ApplicationFormPROther" ngNoForm novalidate *ngIf="formActive" [formGroup]="reportForm" action="https://webto.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8" method="post" (ngSubmit)="onSubmitForm()">-->
        <div class="form-group row">
          <div class="col-sm-6">
            <input type="text" class="form-control" id="first-name" placeholder="First Name" formControlName="firstName" value="{{ firstName }}">
            <div class="errors" role="alert" *ngIf="firstNameControl.errors">
              <div *ngIf="firstNameControl.errors.required && (firstNameControl.touched || firstNameControl.dirty)" class="alert alert-danger">Required</div>
              <div *ngIf="firstNameControl.errors.minlength" class="alert alert-danger">Minimum {{firstNameControl.errors.minlength.requiredLength}} letters</div>
            </div>
          </div>
          <div class="col-sm-6">
            <input type="text" class="form-control" id="last-name" placeholder="Last Name" formControlName="lastName" value="{{ lastName }}">
            <div class="errors" *ngIf="lastNameControl.errors">
              <div *ngIf="lastNameControl.errors.required && (lastNameControl.touched || lastNameControl.dirty)" class="alert alert-danger">Required</div>
              <div *ngIf="lastNameControl.errors.minlength" class="alert alert-danger">Minimum {{lastNameControl.errors.minlength.requiredLength}} letters</div>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <input type="text" class="form-control" id="company" placeholder="Company" formControlName="company" value="{{ company }}">
            <div class="errors" role="alert" *ngIf="companyControl.errors">
              <div *ngIf="companyControl.errors.required && (companyControl.touched || companyControl.dirty)" class="alert alert-danger">Required</div>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <input type="text" class="form-control" id="designation" placeholder="Designation" formControlName="designation" value="{{ designation }}">
            <div class="errors" role="alert" *ngIf="designationControl.errors">
              <div *ngIf="designationControl.errors.required && (designationControl.touched || designationControl.dirty)" class="alert alert-danger">Required</div>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <input type="email" class="form-control" id="email" placeholder="Email" formControlName="email" [email]="validateEmail"  value="{{ email }}">
            <div class="errors" role="alert" *ngIf="emailControl.errors && (emailControl.touched || emailControl.dirty)">
              <div *ngIf="emailControl.errors.required" class="alert alert-danger">Required</div>
              <div *ngIf="emailControl.errors.pattern" class="alert alert-danger">Invalid email format</div>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <select class="form-control" id="country" formControlName="country" (change)="setCountryCode(this.reportForm.value.country)">
              <option *ngFor="let option of countryItems" value="{{option.name}}">{{ option.name }}</option>
            </select>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-3">
            <input type="text" class="form-control" id="country-code" placeholder="Code" formControlName="countryCode" disabled>
          </div>
          <div class="col-sm-9">
            <input type="text" class="form-control" id="mobile" placeholder="xxxx-xxxx" formControlName="mobile" value="{{ mobile }}">
            <div class="errors" role="alert" *ngIf="phoneControl.errors">
              <div *ngIf="phoneControl.errors.required && (phoneControl.touched || phoneControl.dirty)" class="alert alert-danger">Required</div>
              <div *ngIf="phoneControl.errors.pattern" class="alert alert-danger">Please enter a valid number</div>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <select id="lead_source" name="lead_source" formControlName="lead_source" style="display:none;">
              <option value="Partner Aquisition Campaign" selected="selected">CFO Survey</option>
            </select>
            <select id="00N20000001DX1u" name="00N20000001DX1u" title="Sub-Source" formControlName="00N20000001DX1u" style="display:none;">
              <option value="CFOSurveyResults" selected="selected">CFOSurveyResults</option>
            </select>
            <select id="rating" name="rating" formControlName="rating" style="display:none;">
              <option value="Hot">Hot</option>
            </select>
            <!--<button type="submit" class="submit-btn btn btn-primary mb-2 col-sm-12" [disabled]="!reportForm.valid">Submit</button>-->
            <button type="submit" class="submit-btn btn btn-primary mb-2 col-sm-12">Submit</button>
          </div>
        </div>
      </form>
    </div>

    <div class="download-report col-md-12 col-lg-6" [class.visible]="downloadable">
      <p>Thank you for completing the form. We have received your details. The report is now ready to be downloaded</p>
      <a class="download btn btn-primary" href="assets/pdf/Amex_cfo_report.pdf" target="_blank" download="2018 Global Business & Spending Outlook.pdf"> Download Report 
        <i class="fas fa-download"></i>
      </a>
    </div>
  </div>
</div>